

/*
function run(){
	allDailyTasks = JSON.parse(localStorage.getItem('DAILY_TASKS')) || [];
	initToday(DAY, MONTH, YEAR);

	showTasks(MONTH, YEAR);
}

function showTasksFor(month){
	showTasks(month, YEAR);
}


function showTasks(month, year){
	html.clearTable();
	html.addHeadersToTable();
	showCurrentMonth(month, year);
}

function showCurrentMonth(month, year){
	for(var i=31;i>0;i--){
		if (allDailyTasks[getYearIndex(year)].months[month] && allDailyTasks[getYearIndex(year)].months[month].days[i]) {
			html.displayDay(i, month, year, allDailyTasks[getYearIndex(year)].months[month].days[i]);
		}
	}			
}

function saveToStorage(){
	localStorage.setItem('DAILY_TASKS', JSON.stringify(allDailyTasks));
}

run();

function toggle(task){
	var selectedDay=$('#'+task.id).attr('day');
	var selectedMonth=$('#'+task.id).attr('month');
	var selectedYear=$('#'+task.id).attr('year');
	toggleTask(task.name, selectedDay, selectedMonth, selectedYear)
	saveToStorage();
}

function toggleTask(task, day, month, year){
	var yearIndex = getYearIndex(year);
	if (yearIndex >= 0){
		allDailyTasks[yearIndex].months[month].days[day][task]  = !allDailyTasks[yearIndex].months[month].days[day][task];
	}
}

function initToday(d,m,y){
	if (!yearIsAlreadyAdded(y)){
		allDailyTasks.push({year:y, months:[]});
	}
	if (!monthIsAlreadyAdded(m, y)){
		addMonthToYear(m, y);
	}
	if (!dayIsAlreadyAdded(d, m, y)){
		addDayToMonth(d, m, y);
	}
}

function addMonthToYear(month, year){
	for(var i=0;i<allDailyTasks.length;i++){
		if(allDailyTasks[i].year==year) {
			allDailyTasks[i].months[month]={days:[]};
		}
	}
}

function addDayToMonth(day, month, year){
	for(var i=0;i<allDailyTasks.length;i++){
		if(allDailyTasks[i].year==year) {
			allDailyTasks[i].months[month].days[day]=TASKS;
		}
	}
}

function getYearIndex(year){
	for(var i=0;i<allDailyTasks.length;i++){
		if(allDailyTasks[i].year==year) {
			return i;
		}
	}
	return -1;
}

function yearIsAlreadyAdded(year){
	for(var i=0;i<allDailyTasks.length;i++){
		if(allDailyTasks[i].year==year) return true;
	} 
	return false;
}

function monthIsAlreadyAdded(month, year){
	for(var i=0;i<allDailyTasks.length;i++){
		if(allDailyTasks[i].year==year) {
			if(allDailyTasks[i].months[month]!=undefined){
				return true;
			}
		}
	}
	return false;
}

function dayIsAlreadyAdded(day, month, year){
	for(var i=0;i<allDailyTasks.length;i++){
		if(allDailyTasks[i].year==year) {
			if(allDailyTasks[i].months[month]!=undefined){
				if (allDailyTasks[i].months[month].days[day]!=undefined){
					return true;
				}
			}
		}
	}
	return false;
}
*/